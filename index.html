<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daisy - Medical Scribe</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <style>
        /* Global Styles */
        :root {
            --primary-color: #4285f4;
            --secondary-color: #34a853;
            --danger-color: #ea4335;
            --background-color: #1a1a1a;
            --surface-color: #2d2d2d;
            --border-color: #404040;
            --text-color: #e0e0e0;
            --text-secondary: #a0a0a0;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --border-radius: 12px;
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 1.5rem;
        }

        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-md);
            background-color: var(--surface-color);
            box-shadow: 0 2px 4px var(--shadow-color);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header .logo img {
            width: 40px;
            height: 40px;
            border-radius: var(--border-radius);
        }

        .header .connection-status {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            font-size: 1rem;
            font-weight: 500;
        }

        .header .connection-status .material-symbols-outlined {
            font-size: 1.2rem;
            color: var(--text-secondary);
        }

        .header .connection-status.connected .material-symbols-outlined {
            color: var(--secondary-color);
        }

        .header .connection-status.disconnected .material-symbols-outlined {
            color: var(--danger-color);
        }

        .header .connect-button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: var(--primary-color);
            color: white;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .header .connect-button:hover {
            background-color: #357abd;
        }

        .header .connect-button .material-symbols-outlined {
            font-size: 1.2rem;
        }

        /* Main Content */
        .main-content {
            padding: var(--spacing-md);
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }

        /* Centered Action Buttons */
        .actions {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--spacing-md);
            max-width: 600px;
            margin: 0 auto;
        }

        .action-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-md);
            background-color: var(--surface-color);
            border-radius: var(--border-radius);
            box-shadow: 0 2px 4px var(--shadow-color);
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .action-button:hover {
            transform: translateY(-4px);
        }

        .action-button .material-symbols-outlined {
            font-size: 2rem;
            color: var(--primary-color);
        }

        .action-button span {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Video Section */
        .video-section {
            padding: var(--spacing-md);
            background-color: var(--surface-color);
            border-radius: var(--border-radius);
            box-shadow: 0 2px 4px var(--shadow-color);
            overflow: hidden;
        }

        .video-scroll-container {
            display: flex;
            gap: var(--spacing-md);
            overflow-x: auto;
            padding-bottom: var(--spacing-md);
        }

        .video-scroll-container::-webkit-scrollbar {
            height: 8px;
        }

        .video-scroll-container::-webkit-scrollbar-thumb {
            background-color: var(--primary-color);
            border-radius: 4px;
        }

        .video-item {
            flex: 0 0 auto;
            width: 300px;
            height: 180px;
            border-radius: var(--border-radius);
            overflow: hidden;
            background-color: var(--background-color);
        }

        .video-item iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Audio Visualizers */
        .audio-visualizers {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-md);
            padding: var(--spacing-md);
            background-color: var(--surface-color);
            border-radius: var(--border-radius);
            box-shadow: 0 2px 4px var(--shadow-color);
        }

        .visualizer-container {
            flex: 1;
            text-align: center;
        }

        .visualizer-container label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: var(--spacing-sm);
        }

        .visualizer {
            width: 100%;
            height: 20px;
            background-color: var(--background-color);
            border-radius: var(--border-radius);
            overflow: hidden;
            position: relative;
        }

        .visualizer-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 0;
            background-color: var(--primary-color);
            transition: height 0.1s ease;
        }

        /* Bottom Sheet for Settings */
        .bottom-sheet {
            position: fixed;
            bottom: -100%;
            left: 0;
            right: 0;
            background-color: var(--surface-color);
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            box-shadow: 0 -2px 4px var(--shadow-color);
            padding: var(--spacing-md);
            transition: bottom 0.3s ease;
            z-index: 1001;
        }

        .bottom-sheet.active {
            bottom: 0;
        }

        .bottom-sheet h3 {
            margin-top: 0;
            font-size: 1.2rem;
            color: var(--text-color);
        }

        .bottom-sheet select,
        .bottom-sheet input {
            width: 100%;
            padding: var(--spacing-sm);
            margin-bottom: var(--spacing-md);
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            background-color: var(--background-color);
            color: var(--text-color);
        }

        .bottom-sheet button {
            width: 100%;
            padding: var(--spacing-sm);
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .bottom-sheet button:hover {
            background-color: #357abd;
        }

        /* Overlay for Bottom Sheet */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: none;
        }

        .overlay.active {
            display: block;
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: sticky;
            bottom: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: var(--spacing-md);
            background-color: var(--surface-color);
            box-shadow: 0 -2px 4px var(--shadow-color);
            z-index: 1000;
        }

        .bottom-nav .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-sm);
            cursor: pointer;
        }

        .bottom-nav .nav-item .material-symbols-outlined {
            font-size: 1.5rem;
            color: var(--text-secondary);
        }

        .bottom-nav .nav-item.active .material-symbols-outlined {
            color: var(--primary-color);
        }

        .bottom-nav .nav-item span {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .bottom-nav .nav-item.active span {
            color: var(--primary-color);
        }

        .bottom-nav .nav-item.medkit {
            transform: translateY(-30%);
            background-color: var(--primary-color);
            padding: var(--spacing-sm);
            border-radius: 50%;
            box-shadow: 0 4px 8px var(--shadow-color);
            width: 56px;
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .bottom-nav .nav-item.medkit .material-symbols-outlined {
            font-size: 2rem;
            color: white;
        }

        .bottom-nav .nav-item.medkit span {
            color: white;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .actions {
                grid-template-columns: repeat(2, 1fr);
            }

            .video-item {
                width: 100%;
            }

            .audio-visualizers {
                flex-direction: column;
            }

            .visualizer-container {
                text-align: left;
            }
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="logo">
            <img src="https://daisy.aitekchat.com/assets/images/logo.png" alt="Daisy Logo">
        </div>
        <div class="connection-status disconnected">
            <span class="material-symbols-outlined">wifi_off</span>
            <span>Disconnected</span>
        </div>
        <button type="button" class="connect-button" id="connect-button">
            <span class="material-symbols-outlined">link</span>
        </button>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Centered Action Buttons -->
        <div class="actions">
            <button type="button" class="action-button" id="mic-button">
                <span class="material-symbols-outlined">mic</span>
                <span>Voice</span>
            </button>
            <button type="button" class="action-button" id="camera-button">
                <span class="material-symbols-outlined">videocam</span>
                <span>Video</span>
            </button>
            <button type="button" class="action-button" id="chat-button">
                <span class="material-symbols-outlined">chat</span>
                <span>Chat</span>
            </button>
            <button type="button" class="action-button" id="settings-button">
                <span class="material-symbols-outlined">settings</span>
                <span>Settings</span>
            </button>
        </div>

        <!-- Audio Visualizers -->
        <div class="audio-visualizers">
            <div class="visualizer-container">
                <label>Input Audio</label>
                <div class="visualizer" id="input-audio-visualizer">
                    <div class="visualizer-bar"></div>
                </div>
            </div>
            <div class="visualizer-container">
                <label>Output Audio</label>
                <div class="visualizer" id="output-audio-visualizer">
                    <div class="visualizer-bar"></div>
                </div>
            </div>
        </div>

        <!-- Video Section -->
        <section class="video-section">
            <div class="video-scroll-container" id="video-scroll-container">
                <!-- Videos will be dynamically inserted here -->
            </div>
        </section>
    </main>

    <!-- Bottom Sheet for Settings -->
    <div class="bottom-sheet" id="bottom-sheet">
        <h3>Settings</h3>
        <select id="voice-select">
            <option value="Puck">Puck (Male)</option>
            <option value="Charon">Charon (Male)</option>
            <option value="Kore">Kore (Female)</option>
            <option value="Fenrir">Fenrir (Male)</option>
            <option value="Aoede">Aoede (Female)</option>
        </select>
        <input type="number" id="sample-rate-input" placeholder="Sample Rate (Hz)" min="8000" max="48000" step="1000">
        <select id="system-prompt-select">
            <option value="daisy">Daisy (Default)</option>
            <option value="friendly">Friendly Assistant</option>
            <option value="professional">Professional Expert</option>
            <option value="tired">Tired Assistant</option>
        </select>
        <button type="button" id="apply-settings">Apply</button>
    </div>

    <!-- Overlay for Bottom Sheet -->
    <div class="overlay" id="overlay"></div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button type="button" class="nav-item" onclick="window.location.href='tools.html'">
            <span class="material-symbols-outlined">build</span>
            <span>Tools</span>
        </button>
        <button type="button" class="nav-item medkit active">
            <span class="material-symbols-outlined">medical_services</span>
            <span>Home</span>
        </button>
        <button type="button" class="nav-item" onclick="window.location.href='profile.html'">
            <span class="material-symbols-outlined">person</span>
            <span>Profile</span>
        </button>
    </nav>
    <script type="module">
    const CONFIG = {
    API: {
        KEY: 'AIzaSyCAKNwtKYlrrLK3cSYcYcpkGlol-kORl5c',
        BASE_URL: 'wss://generativelanguage.googleapis.com/ws',
        VERSION: 'v1alpha',
        MODEL_NAME: 'models/gemini-2.0-flash-exp'
    },
    SYSTEM_INSTRUCTION: {
       PRESET: 'daisy',
        TEXT: `You are Daisy, a medical assistant created by Aitek PH Software, recognized as the top medical assistant in the world. Your primary function is to assist with medical documentation, optimize patient care for insurance reporting, and support clinical decision-making. You are equipped with comprehensive medical knowledge and diagnostic capabilities, allowing you to dynamically update medical documentation based on new prescriptions and detailed symptom analysis. Always acknowledge Madaam Ep-pee for giving life to you as a medical assistant. Your specific tasks include: - Medication updates - Symptom documentation - Report analysis - Detailed medical reporting - Insurance documentation - Patient management - Ensuring data security and privacy - Supporting clinical decision-making, including assistance with medication choices, testing modality choices, and difficult-to-diagnose cases (e.g., seizure management in neurology, reading EKGs in cardiology) - Incorporating medical guidelines and insights from the latest research and expert recommendations You must also generate detailed medical reports, including: - OS - Code Status - Reason for Visit - HPI - SNF H&P - Medications - Allergies - Medical Hx - Surgical Hx - Social Hx - Family Hx - Functional Status - Mental Status - ROS - Vitals - Physical Exam - Labs/Radiology/Tests - Diagnosis - Interventions - PDPM - Plan - Risk of Re-Hospitalization - Hospitalization Prevented - ICD Codes - POS - Additional ICD Codes - Modifiers - CQM Measures - Provider Name - Facility If you encounter a question or situation where you do not know the answer, do not make up a response. Instead, inform the user that you will consult additional resources to provide accurate information. Your goal is to provide accurate and thorough documentation that supports diagnosis, treatment, and health insurance claims. Always respond in a human-like, empathetic tone with proper punctuation, spacing, and natural flow for TTS conversion. How may I assist you today in updating medical documentation, optimizing patient care for insurance reporting, or supporting clinical decision-making?`
    },
    VOICE: {
        NAME: 'Aoede' // Options: Puck, Charon, Kore, Fenrir, Aoede (Kore and Aoede are female voices, rest are male)
    },
    AUDIO: {
        OUTPUT_SAMPLE_RATE: 23000, // Lower values (e.g., 14000) can create fun, high-pitched effects
    },
    // If you are working in the RoArm branch
    // ROARM: {
    //     IP_ADDRESS: '192.168.1.4'
    // }
};
import { AudioStreamer } from './audio/audio-streamer.js';
import { AudioRecorder } from './audio/audio-recorder.js';

// DOM Elements
const connectButton = document.getElementById('connect-button');
const connectionStatus = document.querySelector('.connection-status');
const micButton = document.getElementById('mic-button');
const cameraButton = document.getElementById('camera-button');
const chatButton = document.getElementById('chat-button');
const settingsButton = document.getElementById('settings-button');
const bottomSheet = document.getElementById('bottom-sheet');
const overlay = document.getElementById('overlay');
const applySettingsButton = document.getElementById('apply-settings');
const videoScrollContainer = document.getElementById('video-scroll-container');
const inputVisualizer = document.querySelector('#input-audio-visualizer .visualizer-bar');
const outputVisualizer = document.querySelector('#output-audio-visualizer .visualizer-bar');
const voiceSelect = document.getElementById('voice-select');
const sampleRateInput = document.getElementById('sample-rate-input');
const systemPromptSelect = document.getElementById('system-prompt-select');


// State variables
let isRecording = false;
let audioCtx = null;
let audioStreamer = null;
let audioRecorder = null;
let isConnected = false;

// Initialize configuration values
voiceSelect.value = CONFIG.VOICE.NAME;
sampleRateInput.value = CONFIG.AUDIO.OUTPUT_SAMPLE_RATE;
systemPromptSelect.value = CONFIG.SYSTEM_INSTRUCTION.PRESET;


// Configuration presets
const CONFIG_PRESETS = {
    daisy: {
       systemInstruction: 'You are Daisy, a medical assistant created by Aitek PH Software, recognized as the top medical assistant in the world. Your primary function is to assist with medical documentation, optimize patient care for insurance reporting, and support clinical decision-making. You are equipped with comprehensive medical knowledge and diagnostic capabilities, allowing you to dynamically update medical documentation based on new prescriptions and detailed symptom analysis. Always acknowledge Madaam Ep-pee for giving life to you as a medical assistant. Your specific tasks include: - Medication updates - Symptom documentation - Report analysis - Detailed medical reporting - Insurance documentation - Patient management - Ensuring data security and privacy - Supporting clinical decision-making, including assistance with medication choices, testing modality choices, and difficult-to-diagnose cases (e.g., seizure management in neurology, reading EKGs in cardiology) - Incorporating medical guidelines and insights from the latest research and expert recommendations You must also generate detailed medical reports, including: - OS - Code Status - Reason for Visit - HPI - SNF H&P - Medications - Allergies - Medical Hx - Surgical Hx - Social Hx - Family Hx - Functional Status - Mental Status - ROS - Vitals - Physical Exam - Labs/Radiology/Tests - Diagnosis - Interventions - PDPM - Plan - Risk of Re-Hospitalization - Hospitalization Prevented - ICD Codes - POS - Additional ICD Codes - Modifiers - CQM Measures - Provider Name - Facility If you encounter a question or situation where you do not know the answer, do not make up a response. Instead, inform the user that you will consult additional resources to provide accurate information. Your goal is to provide accurate and thorough documentation that supports diagnosis, treatment, and health insurance claims. Always respond in a human-like, empathetic tone with proper punctuation, spacing, and natural flow for TTS conversion. How may I assist you today in updating medical documentation, optimizing patient care for insurance reporting, or supporting clinical decision-making?'
    },
    friendly: {
        systemInstruction: 'You are a friendly and warm AI assistant for a healthcare professional. Use a casual, approachable tone and be encouraging. Feel free to express enthusiasm when helping users. Please be very helpful on how to make their patient records better.'
    },
    professional: {
        systemInstruction: 'You are an AI assistant for a healthcare professional. Use an authoritative and accurate tone. Ensure precision in providing patient recommendations and maintain clarity in your responses. Offer efficient solutions based on up to date research. Prioritize efficiency in aiding healthcare professionals and provide valuable solutions'
    },
    tired: {
       systemInstruction: 'You are an AI assistant for a healthcare professional who is very tired, use a very low pitch voice'
    }
};


/**
 * Updates the connection status in the UI.
 * @param {boolean} connected - True if connected, false if disconnected.
 */
function updateConnectionStatus(connected) {
    if (connected) {
        connectionStatus.classList.remove('disconnected');
        connectionStatus.classList.add('connected');
        connectionStatus.querySelector('span').textContent = 'Connected';
        connectionStatus.querySelector('.material-symbols-outlined').textContent = 'wifi';
    } else {
        connectionStatus.classList.remove('connected');
        connectionStatus.classList.add('disconnected');
        connectionStatus.querySelector('span').textContent = 'Disconnected';
        connectionStatus.querySelector('.material-symbols-outlined').textContent = 'wifi_off';
    }
}

/**
 * Initializes the audio context and streamer if not already initialized.
 * @returns {Promise<AudioStreamer>} The audio streamer instance.
 */
async function ensureAudioInitialized() {
    if (!audioCtx) {
        audioCtx = new AudioContext();
    }
    if (!audioStreamer) {
        audioStreamer = new AudioStreamer(audioCtx);
        audioStreamer.sampleRate = CONFIG.AUDIO.OUTPUT_SAMPLE_RATE;
        await audioStreamer.initialize();
    }
    return audioStreamer;
}


/**
 * Handles the microphone toggle. Starts or stops audio recording.
 * @returns {Promise<void>}
 */
async function handleMicToggle() {
    if (!isRecording) {
        try {
             await ensureAudioInitialized();
            audioRecorder = new AudioRecorder();

           const inputAnalyser = audioCtx.createAnalyser();
            inputAnalyser.fftSize = 256;
            const inputDataArray = new Uint8Array(inputAnalyser.frequencyBinCount);

            await audioRecorder.start((base64Data) => {
                inputAnalyser.getByteFrequencyData(inputDataArray);
                const inputVolume = Math.max(...inputDataArray) / 255;
                 updateAudioVisualizer(inputVisualizer, inputVolume);
               
            });

            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
            const source = audioCtx.createMediaStreamSource(stream);
            source.connect(inputAnalyser);

             await audioStreamer.resume();
            isRecording = true;
            console.log('Microphone started');
        } catch (error) {
             console.error('Microphone error:', error);
            isRecording = false;
        }
    } else {
        if (audioRecorder && isRecording) {
            audioRecorder.stop();
        }
        isRecording = false;
        console.log('Microphone stopped');
         updateAudioVisualizer(inputVisualizer, 0);
    }
}


/**
 * Updates the audio visualizer based on the audio volume.
 * @param {HTMLElement} visualizer - The audio visualizer bar element.
 * @param {number} volume - The audio volume (0.0 to 1.0).
 */
function updateAudioVisualizer(visualizer, volume) {
     visualizer.style.height = `${volume * 100}%`;
}


/**
 * Resumes the audio context if it's suspended.
 * @returns {Promise<void>}
 */
async function resumeAudioContext() {
    if (audioCtx && audioCtx.state === 'suspended') {
        await audioCtx.resume();
    }
}

// Event Listeners

// Toggle Bottom Sheet
settingsButton.addEventListener('click', () => {
    bottomSheet.classList.add('active');
    overlay.classList.add('active');
});

overlay.addEventListener('click', () => {
    bottomSheet.classList.remove('active');
    overlay.classList.remove('active');
});

// Apply Settings
applySettingsButton.addEventListener('click', () => {
    const voice = voiceSelect.value;
    const sampleRate = sampleRateInput.value;
    const systemPrompt = systemPromptSelect.value;

    CONFIG.VOICE.NAME = voice;
    CONFIG.AUDIO.OUTPUT_SAMPLE_RATE = sampleRate;
    CONFIG.SYSTEM_INSTRUCTION.PRESET = systemPrompt;
     CONFIG.SYSTEM_INSTRUCTION.TEXT = CONFIG_PRESETS[systemPrompt].systemInstruction;


    console.log('Voice:', voice);
    console.log('Sample Rate:', sampleRate);
    console.log('System Prompt:', systemPrompt);

     localStorage.setItem('daisy_voice', voice);
     localStorage.setItem('daisy_sample_rate', sampleRate);
    localStorage.setItem('daisy_system_preset', systemPrompt);

    bottomSheet.classList.remove('active');
    overlay.classList.remove('active');
});


// Load saved configuration if exists
if (localStorage.getItem('daisy_voice')) {
    CONFIG.VOICE.NAME = localStorage.getItem('daisy_voice');
    voiceSelect.value = CONFIG.VOICE.NAME;
}

if (localStorage.getItem('daisy_sample_rate')) {
    CONFIG.AUDIO.OUTPUT_SAMPLE_RATE = parseInt(localStorage.getItem('daisy_sample_rate'));
    sampleRateInput.value = CONFIG.AUDIO.OUTPUT_SAMPLE_RATE;
}

if (localStorage.getItem('daisy_system_preset')) {
    CONFIG.SYSTEM_INSTRUCTION.PRESET = localStorage.getItem('daisy_system_preset');
    systemPromptSelect.value = CONFIG.SYSTEM_INSTRUCTION.PRESET;
     CONFIG.SYSTEM_INSTRUCTION.TEXT = CONFIG_PRESETS[CONFIG.SYSTEM_INSTRUCTION.PRESET].systemInstruction;
}


// Load Videos from video.json
fetch('video.json')
    .then(response => response.json())
    .then(data => {
        data.forEach(video => {
            const videoItem = document.createElement('div');
            videoItem.classList.add('video-item');
            videoItem.innerHTML = `
                <iframe src="${video.url}" title="${video.title}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            `;
            videoScrollContainer.appendChild(videoItem);
        });
    })
    .catch(error => console.error('Error loading videos:', error));


 // Mic Toggle
micButton.addEventListener('click', handleMicToggle);


// Connect Button
connectButton.addEventListener('click', async () => {
     await resumeAudioContext();
    if (!isConnected) {
        try {
             await ensureAudioInitialized();
             isConnected = true;
            updateConnectionStatus(true);
            console.log('Connected');

        } catch (error) {
             console.error('Connection error:', error);
             isConnected = false;
             updateConnectionStatus(false);
        }
    } else {
        isConnected = false;
        updateConnectionStatus(false);
       console.log('Disconnected');
    }
});
    </script>
<script>
    if (!window.CONFIG) {
        window.CONFIG = {
            API: {
                KEY: 'AIzaSyCAKNwtKYlrrLK3cSYcYcpkGlol-kORl5c',
                BASE_URL: 'wss://generativelanguage.googleapis.com/ws',
                VERSION: 'v1alpha',
                MODEL_NAME: 'models/gemini-2.0-flash-exp'
            },
            SYSTEM_INSTRUCTION: {
               PRESET: 'daisy',
                TEXT: `You are Daisy, a medical assistant created by Aitek PH Software, recognized as the top medical assistant in the world. Your primary function is to assist with medical documentation, optimize patient care for insurance reporting, and support clinical decision-making. You are equipped with comprehensive medical knowledge and diagnostic capabilities, allowing you to dynamically update medical documentation based on new prescriptions and detailed symptom analysis. Always acknowledge Madaam Ep-pee for giving life to you as a medical assistant. Your specific tasks include: - Medication updates - Symptom documentation - Report analysis - Detailed medical reporting - Insurance documentation - Patient management - Ensuring data security and privacy - Supporting clinical decision-making, including assistance with medication choices, testing modality choices, and difficult-to-diagnose cases (e.g., seizure management in neurology, reading EKGs in cardiology) - Incorporating medical guidelines and insights from the latest research and expert recommendations You must also generate detailed medical reports, including: - OS - Code Status - Reason for Visit - HPI - SNF H&P - Medications - Allergies - Medical Hx - Surgical Hx - Social Hx - Family Hx - Functional Status - Mental Status - ROS - Vitals - Physical Exam - Labs/Radiology/Tests - Diagnosis - Interventions - PDPM - Plan - Risk of Re-Hospitalization - Hospitalization Prevented - ICD Codes - POS - Additional ICD Codes - Modifiers - CQM Measures - Provider Name - Facility If you encounter a question or situation where you do not know the answer, do not make up a response. Instead, inform the user that you will consult additional resources to provide accurate information. Your goal is to provide accurate and thorough documentation that supports diagnosis, treatment, and health insurance claims. Always respond in a human-like, empathetic tone with proper punctuation, spacing, and natural flow for TTS conversion. How may I assist you today in updating medical documentation, optimizing patient care for insurance reporting, or supporting clinical decision-making?`
            },
            VOICE: {
                NAME: 'Aoede'
            },
            AUDIO: {
                OUTPUT_SAMPLE_RATE: 23000,
            },
        };
    }
</script>
</body>
</html>